{"version":3,"file":"static/js/966.69be277d.chunk.js","mappings":"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","sources":["APIService/getBooks.js","components/AlertMessage/AlertMessage.styled.js","components/AlertMessage/AlertMessage.jsx","components/Loader/Loader.jsx","pages/BookDetail/BookDetail.styled.js","pages/BookDetail/BookDetail.jsx","helpers/ShortTitle.js"],"sourcesContent":["import axios from 'axios';\n\nexport const getBooks = async () => {\n  try {\n    const res = await axios.get('https://www.googleapis.com/books/v1/volumes', {\n      params: {\n        q: 'subject:fiction',\n        orderBy: 'relevance',\n        maxResults: 30,\n      },\n    });\n\n    return res.data.items;\n  } catch (error) {\n    throw error.message;\n  }\n};\n\nexport const getBookById = async bookId => {\n  try {\n    const res = await axios.get(\n      `https://www.googleapis.com/books/v1/volumes/${bookId}`\n    );\n\n    return res.data.volumeInfo;\n  } catch (error) {\n    throw error.message;\n  }\n};\n\nexport const searchBooksCurrentAuthor = async authorName => {\n  try {\n    const res = await axios.get(\n      `https://www.googleapis.com/books/v1/volumes?q=inauthor:${encodeURIComponent(\n        authorName\n      )}`\n    );\n\n    return res.data.items;\n  } catch (error) {\n    throw error.message;\n  }\n};\n","import styled from 'styled-components';\n\nexport const AlertWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 150px;\n`;\n\nexport const Message = styled.p`\n  display: inline-block;\n  font-weight: 600;\n  font-size: 28px;\n  line-height: 28px;\n  letter-spacing: -0.02em;\n  color: var(--gray-500);\n\n  @media (min-width: 768px) {\n    font-size: 32px;\n    line-height: 32px;\n  }\n\n  @media (min-width: 1240px) {\n    font-size: 48px;\n    line-height: 44px;\n  }\n`;\n","import { AlertWrapper, Message } from './AlertMessage.styled';\n\nexport const AlertMessage = ({ children }) => {\n  return (\n    <AlertWrapper>{children && <Message>{children}</Message>}</AlertWrapper>\n  );\n};\n","import { Dna } from 'react-loader-spinner';\n\nexport const Loader = () => (\n  <Dna\n    visible=\"true\"\n    height=\"80\"\n    width=\"80\"\n    ariaLabel=\"dna-loading\"\n    wrapperStyle={{ marginLeft: 'auto', display: 'block', marginRight: 'auto' }}\n    wrapperClass=\"dna-wrapper\"\n  />\n);\n","import styled from 'styled-components';\n\nexport const Title = styled.h2`\n  color: var(--gray-400);\n  font-size: 22px;\n  @media screen and (min-width: 768px) {\n    font-size: 32px;\n  }\n`;\n\nexport const SubTitle = styled.h3`\n  color: var(--gray-400);\n  font-size: 18px;\n  @media screen and (min-width: 768px) {\n    font-size: 24px;\n  }\n`;\n\nexport const Description = styled.p`\n  color: var(--gray-300);\n  background: var(--white);\n  border-radius: 6px;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 176%;\n  letter-spacing: 0.04em;\n  @media screen and (min-width: 768px) {\n    font-size: 18px;\n  }\n`;\n\nexport const BookImg = styled.img`\n  display: block;\n  width: 100%;\n  object-fit: contain;\n  margin-right: 10px;\n  @media screen and (min-width: 768px) {\n    font-size: 16px;\n  }\n\n  @media screen and (min-width: 1240px) {\n    width: 300px;\n    height: 500px;\n    float: left;\n  }\n`;\n\nexport const ContainerBookDetaile = styled.div`\n  @media screen and (min-width: 1240px) {\n    display: flex;\n    justify-content: center;\n  }\n`;\n\nexport const BookInformation = styled.div`\n  display: block;\n`;\n\nexport const ContainerMoreBooksByAuthor = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n  gap: 5px;\n  margin: 0 auto;\n  @media screen and (max-width: 375px) {\n    width: 300px;\n  }\n  @media screen and (min-width: 768px) {\n    width: 768px;\n  }\n\n  @media screen and (min-width: 1240px) {\n    width: 1140px;\n  }\n`;\n\nexport const MoreBooksByAuthorList = styled.li`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 500px;\n  max-width: 300px;\n  overflow: hidden;\n  background: var(--white);\n  border-radius: 6px;\n  padding: 5px;\n  position: relative;\n  border: 2px solid #743e3e;\n\n  @media screen and (min-width: 768px) {\n    height: 600px;\n    width: 350px;\n  }\n\n  @media screen and (min-width: 1240px) {\n    height: 300px;\n    width: 200px;\n  }\n`;\n\nexport const TitleBook = styled.h6`\n  color: var(--gray-50);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 10px;\n  left: 6px;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 20px;\n  letter-spacing: -0.24px;\n  background: var(--gray-400);\n  border-radius: 20px;\n  padding: 8px;\n  width: 269px;\n  @media screen and (min-width: 425px) {\n    font-size: 18px;\n\n    width: 283px;\n  }\n  @media screen and (min-width: 768px) {\n    font-size: 18px;\n    width: 282px;\n  }\n\n  @media screen and (min-width: 1240px) {\n    width: 182px;\n    bottom: 5px;\n  }\n`;\n\nexport const BookImgByAuthor = styled.img`\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: fill;\n`;\n","import { useParams } from 'react-router-dom';\nimport { getBookById, searchBooksCurrentAuthor } from 'APIService/getBooks';\nimport { useEffect, useState } from 'react';\nimport React from 'react';\nimport DOMPurify from 'dompurify';\nimport { Section } from 'components/Section/Section.styled';\nimport {\n  BookImg,\n  BookImgByAuthor,\n  BookInformation,\n  ContainerBookDetaile,\n  ContainerMoreBooksByAuthor,\n  Description,\n  MoreBooksByAuthorList,\n  SubTitle,\n  Title,\n  TitleBook,\n} from './BookDetail.styled';\nimport Not_Pictured from '../../images/not-pictured.png';\n\nimport { AlertMessage } from 'components/AlertMessage/AlertMessage';\nimport { Loader } from 'components/Loader/Loader';\nimport { shortTitle } from 'helpers/ShortTitle';\n\nfunction stripHtmlTags(htmlString) {\n  const purifiedText = DOMPurify.sanitize(htmlString, { ALLOWED_TAGS: [] });\n  return purifiedText;\n}\n\nconst BookDetail = () => {\n  const { bookId, authorName } = useParams();\n  const [book, setBook] = useState({});\n  const [authorBooks, setAuthorBooks] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchBookById = async () => {\n      setIsLoading(true);\n      try {\n        const data = await getBookById(bookId);\n        setBook(data);\n        const authorsDate = await searchBooksCurrentAuthor(authorName);\n\n        setAuthorBooks(authorsDate);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchBookById();\n  }, [bookId, authorName]);\n  const htmlString = book?.description;\n  const text = stripHtmlTags(htmlString);\n\n  return (\n    <>\n      {error ? (\n        <AlertMessage>\n          Oops, something went wrong. Please try again later...\n        </AlertMessage>\n      ) : (\n        <>\n          {authorBooks.length > 0 && !isLoading && book ? (\n            <>\n              <Section>\n                <Title>Title: {book?.title}</Title>\n                <ContainerBookDetaile>\n                  <BookImg\n                    src={\n                      book?.imageLinks?.large\n                        ? book?.imageLinks?.large\n                        : Not_Pictured\n                    }\n                    alt=\"Big book foto\"\n                  />\n                  <BookInformation>\n                    <SubTitle>Author:</SubTitle>\n                    <Description>{book?.authors}</Description>\n                    <SubTitle>Categories:</SubTitle>\n                    <Description>{book?.categories.join(', ')}</Description>\n                    <SubTitle>Description:</SubTitle>\n                    <Description>{text.trim()}</Description>\n                  </BookInformation>\n                </ContainerBookDetaile>\n              </Section>\n              <Section>\n                <Title>More Books by the Same Author:</Title>\n\n                <ContainerMoreBooksByAuthor>\n                  {authorBooks.map(book => (\n                    <MoreBooksByAuthorList key={book.id}>\n                      <BookImgByAuthor\n                        src={\n                          book?.volumeInfo?.imageLinks?.smallThumbnail\n                            ? book?.volumeInfo?.imageLinks?.smallThumbnail\n                            : Not_Pictured\n                        }\n                        alt={'book foto'}\n                      />\n                      <TitleBook>\n                        {shortTitle(book?.volumeInfo?.title)}\n                      </TitleBook>\n                    </MoreBooksByAuthorList>\n                  ))}\n                </ContainerMoreBooksByAuthor>\n              </Section>\n            </>\n          ) : (\n            <Loader />\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default BookDetail;\n","export const shortTitle = title => {\n  if (title.length >= 60) {\n    const shortTitle = title.split(' ').slice(0, 5).join(' ') + '...';\n    return shortTitle;\n  }\n  return title;\n};\n"],"names":["getBooks","axios","params","q","orderBy","maxResults","res","data","items","message","getBookById","bookId","volumeInfo","searchBooksCurrentAuthor","authorName","encodeURIComponent","AlertWrapper","styled","Message","AlertMessage","children","Loader","visible","height","width","ariaLabel","wrapperStyle","marginLeft","display","marginRight","wrapperClass","Title","SubTitle","Description","BookImg","ContainerBookDetaile","BookInformation","ContainerMoreBooksByAuthor","MoreBooksByAuthorList","TitleBook","BookImgByAuthor","useParams","useState","book","setBook","authorBooks","setAuthorBooks","isLoading","setIsLoading","error","setError","useEffect","fetchBookById","authorsDate","text","htmlString","DOMPurify","ALLOWED_TAGS","stripHtmlTags","description","length","title","src","imageLinks","large","Not_Pictured","alt","authors","categories","join","trim","map","smallThumbnail","split","slice","id"],"sourceRoot":""}